dist: xenial
language: python
python:
  - 3.7.4
before_install:
  - git clone 'https://github.com/cjlin1/libsvm.git' /opt/libsvm
  - make -C /opt/libsvm
  - make -C /opt/libsvm/python
  - sudo apt-get update -y
  - sudo apt-get install -y libglib2.0-0 libsm6 libfontconfig1 libxrender1
env:
  - PYTHONPATH=${PYTHONPATH}:/opt/libsvm/python
install:
  - pip install -e .[dev]
script:
  - pytest
deploy:
  provider: pypi
  user: ocampor
  on:
    branch: master
  password:
    secure: jq7Qg2aAETEF2A3F2WGGaNzNDAJ5N7eStyuFnRbATYtAM/Fh/h3FW+51qReIM3O4f/Zn4pJVgdDJpaRxF8Rdyp73qN58Q/FtEJY9lp7RHWpgoCQtbEGUA1MRc2nJ+iUsPmn/CllRrQNidwi7z2nrmvGqSFQWKdDAIxCn0ygkL3uJLg63PfQiuWwuComQsKOMdG61ttQeGACIyvTF85e7015f6DlUSavvxxaP1jrzwLgYGFZ2BUpRNUIdfp5pd6RcXOz+1Yvmm8bNh9agwej8QSy+MgvJiIATX7lI1ZxOBTpZnNYvkydDhsxeuJymlz8SoDXkmY3PJEj3Haf1kPTEQYuVUulilfFzhmkl00ylpMWCuEOMmD6IOz1tUvki41E+AVXSGIP+ksmSPXKyxIhy2hjzSdN1OsY7hbhOcErTTMzTlRKyNsd7cSb6k1HH491eiaNLSTlMhwglhUyr41/s2XSuRejVDuJzMWa7BOvaZcAEz3M31XzLVd2Oi2X2jyliPiKkBMG3w8pmCXyyuWxMkbKglh6QawhIwIRZAgjGr7jJF/B1Ajtu/ReopR3C/09qSUIZvz75gzeh1sOgG8mcpIswijVHiM8yfl4fRMxGodMeTc/m5uP3wiax3CxwBv3MfoUP/gvOcltgIZ+vo47FgA4V2qCRtXtiRAWUI65flFQ=
